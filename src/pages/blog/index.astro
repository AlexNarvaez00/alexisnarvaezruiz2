---
import { getCollection } from "astro:content";
import Layout from "../../layouts/Layout.astro";
import Button from "../../components/Button.astro";
import Title from "../../components/Title.astro";
import List from "../../components/List.astro";
import ListItem from "../../components/ListItem.astro";

const posts = (await getCollection("blog")).sort( 
  (a,b) => a.data.pubDate.valueOf() - b.data.pubDate.valueOf()
);

---

<Layout title="Alexis Narvaez | Blog.">
  <main class="m-auto w-full flex flex-col">
    <div class="m-auto p-2 max-w-5xl relative w-full sm:p-4 md:p-6">
      <Button href="/" class="">Volver</Button>
      <Title level="h2" class="dark:text-white mt-5">Blog.</Title>
      <List>
        {
          posts.map((post) => (
            <ListItem
              title={post.data.title}
              href={`/blog/${post.slug}`}
              tags={post.data.tags}
              description={post.data.description}
              img={`/blog/${post.data.heroImage}`}
            />
          ))
        }
      </List>
    </div>
  </main>
</Layout>
